<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>게시글 상세보기</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- header_link begin -->
	<th:block th:replace="~{fragments/header_link :: header_link}"/>
    <!-- header_link end -->
    <style>
        .form-group {
            margin-bottom: 20px;
        }
        .form-group input,
        .form-group textarea {
            border-radius: 0;
        }
        .btn-group {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2 class="mt-4">상세보기</h2>
        <form>
        	<input type="hidden" name="notice_idx" th:value="${notice.notice_idx}">
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">제목</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:value="${notice.title}" name="title">
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">작성자</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:value="${notice.writer}" name="writer">
                </div>
            </div>
            <div class="form-group">
   				 <textarea class="form-control" name="content" th:utext="${notice.content}" readonly></textarea>
			</div>
            
            <div class="btn-group">
                <button type="button" class="btn btn-primary">수정</button>
                <button type="button" class="btn btn-danger">삭제</button>
                <button type="button" class="btn btn-secondary">목록</button>
            </div>
        </form>
    </div>
</body>
</html>

<script type="text/javascript">
function edit(){
	$("form").attr({
		action:"/notice/edit",
		method:"post"
	});	
	$("form").submit();
}

function del(){
	$("form").attr({
		action:"/notice/del", 
		method:"post"
	});
	$("form").submit();
}

$(function(){
	$($("button")[0]).click(function(){
		if(confirm("수정하시겠어요?")){
			edit();
		}
	});
	
	$($("button")[1]).click(function(){
		if(confirm("삭제하시겠습니까?")){
			del();
		}
	});
	
	$($("button")[2]).click(function(){
		location.href="/notice/list";
	});
	
});
</script>
